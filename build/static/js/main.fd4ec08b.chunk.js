(this.webpackJsonpreact_boilerplate=this.webpackJsonpreact_boilerplate||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var s=n(12),c=n(3),r=n(1),a=n(28),o=n.n(a),i=n(0),l=function(){return Object(i.jsxs)("div",{className:"home-page-text",children:[Object(i.jsx)("h1",{children:"Welcome to Stranger's Things!"}),Object(i.jsx)("img",{className:"home-gif",src:"strangersthings.gif"})]})},u=n(2),j=n.n(u),p=n(4),h=n(29),d=n.n(h);function b(e){localStorage.setItem("token",JSON.stringify(e))}function O(){return JSON.parse(localStorage.getItem("token"))}function m(e){localStorage.setItem("postId",JSON.stringify(e))}var f="https://strangers-things.herokuapp.com",x="2106-CPU-RM-WEB-PT",v=O();function g(e,t){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(j.a.mark((function e(t,n){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/").concat(x,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:t,password:n}})}).then((function(e){return e.json()})).then((function(e){return e.data}));case 3:return s=e.sent,e.abrupt("return",s);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(j.a.mark((function e(t,n){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/").concat(x,"/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:t,password:n}})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.success,n=e.error;return!1===t?alert(n.message):e.data}));case 3:return s=e.sent,e.abrupt("return",s);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(e,t,n,s,c){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(j.a.mark((function e(t,n,s,c,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://strangers-things.herokuapp.com/api/2106-CPU-RM-WEB-PT/posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify({post:{title:t,description:n,price:s,location:c,willDeliver:r}})}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return P.apply(this,arguments)}function P(){return(P=Object(p.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://strangers-things.herokuapp.com/api/2106-CPU-RM-WEB-PT/posts");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,s=n.data.posts,e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[0,11,14,16]])})))).apply(this,arguments)}function C(){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://strangers-things.herokuapp.com/api/2106-CPU-RM-WEB-PT/users/me",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,7,10,12]])})))).apply(this,arguments)}function D(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://strangers-things.herokuapp.com/api/".concat(x,"/posts/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(e,t,n,s,c,r){return W.apply(this,arguments)}function W(){return(W=Object(p.a)(j.a.mark((function e(t,n,s,c,r,a){var o,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=O(),e.prev=1,e.next=4,d.a.patch("".concat(f,"/api/").concat(x,"/posts/").concat(a),{post:{title:t,description:n,price:s,location:c,willDeliver:r}},{headers:{"Content-Type":"application/JSON",Authorization:"Bearer ".concat(o)}});case 4:return i=e.sent,l=i.data,e.abrupt("return",l);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function F(){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=fetch("".concat(f,"/api/").concat(x,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",t);case 5:e.prev=5,e.t0=e.catch(0),consolelog(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function U(e,t){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(j.a.mark((function e(t,n){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/").concat(x,"/posts/").concat(n,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify({message:{content:"".concat(t)}})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e}));case 3:return s=e.sent,console.log(s),e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var J=n(6),B=n(5),M=function(e){var t=e.searchWord,n=e.setSearchWord,s=Object(B.f)();return Object(i.jsx)("div",{className:"search-bar-main",children:Object(i.jsxs)("form",{className:"search-bar",onSubmit:function(e){e.preventDefault(),s.push("/searchpage")},children:[Object(i.jsx)("input",{type:"text",id:"postSearch",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Search Posts"}),Object(i.jsx)("button",{className:"search-button",children:"Search"})]})})};function R(e){var t=e.defaultPosts,n=e.setDefaultPosts,s=e.isLoggedIn,c=(e.setIsLoggedIn,e.userName),a=(e.setPostId,e.postId,e.setSearchWord),o=e.searchWord;return Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(i.jsxs)("div",{className:"post-page",children:[Object(i.jsx)(M,{setSearchWord:a,searchWord:o,defaultPosts:t}),!0===s?Object(i.jsxs)("div",{className:"post-actionbuttons",children:[Object(i.jsxs)("button",{className:"create-post",onClick:function(e){e.preventDefault(),window.location.href="/newpost"},children:[" ","Create Post"]}),Object(i.jsxs)("button",{className:"edit-mypost",onClick:function(e){e.preventDefault(),window.location.href="/editpost"},children:[" ","Edit my Posts"]})]}):null,t.map((function(e,n){console.log(t);var r=e.title,a=e.description,o=e.price,l=e.location,u=e.author,j=e.willDeliver,p=e._id,h=u.username;return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:r}),Object(i.jsx)("h2",{className:"username",children:h})]}),Object(i.jsxs)("div",{className:"post-content",children:[Object(i.jsx)("p",{children:a}),Object(i.jsx)("p",{className:"price",children:o}),Object(i.jsx)("p",{children:l}),!0===j?Object(i.jsx)("p",{children:"Will Deliver"}):null]}),c!=h&!0===s?Object(i.jsx)("div",{children:Object(i.jsx)(J.b,{to:"/posts/".concat(h),children:Object(i.jsx)("button",{className:"submit-button",onClick:function(e){m(p)},children:"Send Message"})})}):null]},"post-".concat(n))}))]})}function _(e){var t=Object(r.useState)([]),n=Object(c.a)(t,2),s=n[0],a=n[1],o=e.setIsLoggedIn,l=Object(r.useState)(""),u=Object(c.a)(l,2),h=u[0],d=u[1];Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,a(t.data.messages),O()&&o(!0),n=JSON.parse(localStorage.getItem("username")),d(n);case 8:case"end":return e.stop()}}),e)}))),[]);var b=[],m=[];return s.forEach((function(e){e.fromUser.username!==h?b.push(e):m.push(e)})),console.log(b,"inbox"),console.log(m,"sent"),Object(i.jsx)("div",{className:"post-page",children:Object(i.jsxs)("div",{className:"post-page",children:[Object(i.jsx)("h1",{children:"Inbox"}),Object(i.jsx)("div",{children:b.map((function(e,t){var n=e.post,s=e.fromUser,c=e.content;return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:n.title}),Object(i.jsx)("h2",{className:"username",children:s.username})]}),Object(i.jsx)("div",{className:"post-content",children:Object(i.jsx)("p",{children:c})})]},"sent-".concat(t))}))}),Object(i.jsx)("h1",{children:"Sent"}),Object(i.jsx)("div",{children:m.map((function(e,t){console.log(e);var n=e.post,s=e.fromUser,c=e.content;return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:n.title}),Object(i.jsx)("h2",{className:"username",children:s.username})]}),Object(i.jsx)("div",{className:"post-content",children:Object(i.jsx)("p",{children:c})})]},"sent-".concat(t))}))})]})})}function z(e){var t=e.userName,n=e.setUserName,s=e.isLoggedIn,a=e.setIsLoading,o=e.setIsLoggedIn,l=Object(r.useState)(""),u=Object(c.a)(l,2),h=u[0],d=u[1],m=Object(B.f)();return Object(r.useEffect)((function(){O()&&o(!0)}),[]),!1===s?Object(i.jsxs)("form",{className:"login-form",onSubmit:function(){var e=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a(!0),e.prev=2,e.next=5,g(t,h);case 5:b(e.sent.token),s=t,localStorage.setItem("username",JSON.stringify(s)),o(!0),d(""),m.push("/posts"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:return e.prev=17,a(!1),e.finish(17);case 20:case"end":return e.stop()}var s}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(i.jsxs)("h1",{className:"login-title",children:[" ",Object(i.jsx)("span",{children:"Stranger's Things"})," Login"]}),Object(i.jsx)("div",{className:"imgcontainer",children:Object(i.jsx)("i",{className:"far fa-user fa-5x"})}),Object(i.jsxs)("div",{className:"login-container",children:[Object(i.jsx)("label",{htmlFor:"uname",children:Object(i.jsx)("b",{children:"Username"})}),Object(i.jsx)("input",{type:"text",placeholder:"Enter Username",name:"uname",required:!0,value:t,onChange:function(e){n(e.target.value)}}),Object(i.jsx)("label",{htmlFor:"psw",children:Object(i.jsx)("b",{children:"Password"})}),Object(i.jsx)("input",{type:"password",placeholder:"Enter Password",name:"psw",required:!0,value:h,onChange:function(e){d(e.target.value)}}),Object(i.jsx)("button",{className:"submit-button",type:"submit",children:"Login"}),Object(i.jsxs)("label",{className:"checkbox",children:[Object(i.jsx)("input",{type:"checkbox",name:"remember"})," Remember me"]}),"Have you created an Account?",Object(i.jsx)("a",{href:"/Register",children:" Sign up here."})]})]}):null}function H(e){var t,n=e.setIsLoading,a=e.setIsLoggedIn,o=Object(r.useState)(""),l=Object(c.a)(o,2),u=l[0],h=l[1],d=Object(r.useState)(""),O=Object(c.a)(d,2),m=O[0],f=O[1];Object(r.useEffect)((function(){}),[]);var x=Object(B.f)();return Object(i.jsxs)("form",(t={className:"login-form"},Object(s.a)(t,"className","login-form"),Object(s.a)(t,"onSubmit",function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!0),e.prev=2,e.next=5,y(u,m);case 5:b(e.sent.token),a(!0),h(""),f(""),x.push("/posts"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:return e.prev=16,n(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()),Object(s.a)(t,"children",[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"login-title",children:"Register"}),Object(i.jsx)("div",{className:"imgcontainer",children:Object(i.jsx)("i",{className:"far fa-user fa-5x"})}),Object(i.jsx)("p",{children:"Please fill in this form to create an account."}),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{htmlFor:"email",children:Object(i.jsx)("b",{children:"Username"})}),Object(i.jsx)("input",{type:"text",placeholder:"Enter Username",name:"",id:"email",required:!0,value:u,onChange:function(e){h(e.target.value)}}),Object(i.jsx)("label",{htmlFor:"psw",children:Object(i.jsx)("b",{children:"Password"})}),Object(i.jsx)("input",{type:"password",placeholder:"Enter Password",name:"psw",id:"psw",required:!0}),Object(i.jsx)("label",{htmlFor:"psw-repeat",children:Object(i.jsx)("b",{children:"Repeat Password"})}),Object(i.jsx)("input",{type:"password",placeholder:"Repeat Password",name:"psw-repeat",id:"psw-repeat",required:!0,value:m,onChange:function(e){f(e.target.value)}})]}),Object(i.jsx)("button",{type:"submit",className:"registerbtn",children:"Register"})]}),Object(i.jsx)("div",{className:"container signin",children:Object(i.jsxs)("p",{children:["Already have an account? ",Object(i.jsx)("a",{href:"/login",children:"Sign in"}),"."]})})]),t))}n(60);var Y=function(e){var t=e.isLoggedIn,n=e.setIsLoggedIn;Object(B.f)();return Object(i.jsxs)("nav",{className:"NavbarMenu",children:[Object(i.jsxs)("nav",{className:"logo",children:[Object(i.jsx)("h3",{children:Object(i.jsx)("i",{className:"fas fa-blender"})}),Object(i.jsx)("h3",{children:Object(i.jsx)("i",{className:"fas fa-space-shuttle"})}),Object(i.jsx)("h3",{children:Object(i.jsx)("i",{className:"fas fa-couch"})}),Object(i.jsx)(J.b,{className:"navbar-logo",to:"/",children:Object(i.jsx)("h1",{children:"Stranger's Things"})})]}),Object(i.jsxs)("div",{className:"menu-icon",children:[Object(i.jsx)(J.b,{className:"nav-links",to:"/",children:"Home"}),Object(i.jsx)(J.b,{className:"nav-links",to:"/posts",children:"Posts"}),t?Object(i.jsx)(J.b,{className:"nav-links",to:"/profile",children:"Profile"}):null,t?Object(i.jsx)(J.b,{className:"nav-links",to:"/login",onClick:function(e){!0===confirm("Are you sure you want to log out?")&&(e.preventDefault,localStorage.removeItem("token"),localStorage.removeItem("postId"),localStorage.removeItem("username"),n(!1))},children:t?"LogOut":"LogIn"}):Object(i.jsx)(J.b,{className:"nav-links",to:"/login",children:"LogIn"})]})]})};var G=function(e){var t=e.setIsLoading,n=e.delivery,s=e.setDelivery,a=Object(r.useState)(""),o=Object(c.a)(a,2),l=o[0],u=o[1],h=Object(r.useState)(""),d=Object(c.a)(h,2),b=d[0],O=d[1],m=Object(r.useState)(""),f=Object(c.a)(m,2),x=f[0],v=f[1],g=Object(r.useState)(""),N=Object(c.a)(g,2),y=N[0],w=N[1],S=Object(r.useState)(!0),k=Object(c.a)(S,2),P=k[0],C=k[1],L=Object(B.f)();return Object(i.jsxs)("form",{className:"newpost",onSubmit:function(){var e=Object(p.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),t(!0),C(!0),s(!1),e.prev=4,e.next=7,I(l,b,x,y,n,P);case 7:e.sent,u(""),O(""),v(""),w(""),s(""),alert("New Post Made!"),L.push("/posts"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:return e.prev=20,t(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(i.jsx)("h1",{className:"newpost-title",children:" Create New Post"}),Object(i.jsx)("div",{className:"imgcontainer",children:Object(i.jsx)("i",{className:"fas fa-pen-square fa-5x",style:{color:"rgb(200, 117, 7)"}})}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("label",{htmlFor:"title",children:"Title"}),Object(i.jsx)("input",{type:"text",name:"title",placeholder:"title",value:l,onChange:function(e){u(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:"description",children:"Description"}),Object(i.jsx)("input",{type:"text",name:"description",placeholder:"description",value:b,onChange:function(e){O(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:"price",children:"Price"}),Object(i.jsx)("input",{type:"text",name:"price",placeholder:"price",value:x,onChange:function(e){v(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:"location",children:"Location"}),Object(i.jsx)("input",{type:"text",name:"location",placeholder:"location",value:y,onChange:function(e){w(e.target.value)},required:!0}),Object(i.jsxs)("label",{className:"checkbox",children:["Willing to Deliver",Object(i.jsx)("input",{type:"checkbox",id:"myCheck",name:"delivery",value:!0,onChange:function(e){s(!0)}})," ","Yes",Object(i.jsx)("input",{type:"checkbox",id:"myCheck",name:"delivery",value:!1,onChange:function(e){s(!1)}})," ","No"]}),Object(i.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"})]})]})};function K(e){var t=e.setIsLoading,n=e.setPostId,s=Object(r.useState)([]),a=Object(c.a)(s,2),o=a[0],l=a[1];Object(B.f)();return Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,F();case 4:return n=e.sent,e.next=8,l(n.data.posts);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),[]),Object(i.jsx)("div",{className:"post-page",children:o.map((function(e,t){var s=e.title,c=e.description,r=e.price,a=e.location,o=e.author,u=e._id,h=e.willDeliver,d=e.active,b=o.username;return d?Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:s}),Object(i.jsx)("h2",{className:"username",children:b})]}),Object(i.jsxs)("div",{className:"post-content",children:[Object(i.jsx)("p",{children:c}),Object(i.jsx)("p",{className:"price",children:r}),Object(i.jsx)("p",{children:a}),!0===h?Object(i.jsx)("p",{children:"Will Deliver"}):null]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(J.b,{to:"/edit/".concat(u),children:Object(i.jsx)("button",{className:"edit-button",onClick:function(e){n(""),n(u)},children:"Edit"})}),Object(i.jsx)("button",{className:"delete-button",onClick:function(){var e=Object(p.a)(j.a.mark((function e(t){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==confirm("Are you sure you want to delete this post?")){e.next=20;break}return t.preventDefault,e.prev=3,e.next=6,D(u);case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.prev=13,e.next=16,C();case 16:return s=e.sent,l(s.data.posts),window.location.reload(),e.finish(13);case 20:case"end":return e.stop()}}),e,null,[[3,10,13,20]])})));return function(t){return e.apply(this,arguments)}}(),children:"Delete"})]})]},"post-".concat(t)):null}))})}function Q(e){var t=e.postId,n=e.setIsLoggedIn,s=e.delivery,a=e.setDelivery,o=Object(r.useState)(""),l=Object(c.a)(o,2),u=l[0],h=l[1],d=Object(r.useState)(""),b=Object(c.a)(d,2),m=b[0],f=b[1],x=Object(r.useState)(""),v=Object(c.a)(x,2),g=v[0],N=v[1],y=Object(r.useState)(""),w=Object(c.a)(y,2),I=w[0],S=w[1],k=Object(r.useState)(""),P=Object(c.a)(k,2),C=P[0],L=P[1],D=Object(r.useState)([]),E=Object(c.a)(D,2),W=E[0],q=E[1],U=Object(B.f)();Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=O())&&(n(!0),L(t)),e.next=4,F();case 4:s=e.sent,q(s.data.posts);case 6:case"end":return e.stop()}}),e)}))),[]);var A=W.filter((function(e){return e._id===t}));A.title,A.description,A.price,A.location,A.author,A.willDeliver,A.isAuthor;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"container-editpost",children:[Object(i.jsx)("h1",{className:"login-title",children:" Edit"}),Object(i.jsx)("div",{className:"imgcontainer",children:Object(i.jsx)("i",{className:"fas fa-pen-square fa-5x",style:{color:"rgb(200, 117, 7)"}})}),A.map((function(e){var n=e.title,s=e.description,c=e.price,r=e.location;e.author,e.willDeliver,e.isAuthor;return Object(i.jsxs)("div",{className:"editmypost",children:[Object(i.jsx)("div",{className:"post-header",children:Object(i.jsx)("h1",{children:u||n})}),Object(i.jsxs)("div",{className:"post-content",children:[Object(i.jsx)("p",{children:m||s}),Object(i.jsx)("p",{className:"price",children:g||c}),Object(i.jsx)("p",{children:I||r})]})]},"post-".concat(t))})),Object(i.jsx)("form",{className:"login-form",onSubmit:function(){var e=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,T(u,m,g,I,s,t,C);case 4:e.sent,h(""),f(""),N(""),S(""),alert("Saved Changes To Post!"),U.push("/editpost"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[1,13,16,18]])})));return function(t){return e.apply(this,arguments)}}(),children:Object(i.jsxs)("div",{className:"login-container",children:[Object(i.jsx)("label",{className:"label",htmlFor:u,children:"New title"}),Object(i.jsx)("input",{type:"text",name:u,placeholder:"title",value:u,onChange:function(e){h(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:m,children:"New Description"}),Object(i.jsx)("input",{type:"text",name:m,placeholder:"description",value:m,onChange:function(e){f(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:g,children:"New Price"}),Object(i.jsx)("input",{type:"text",name:g,placeholder:"price",value:g,onChange:function(e){N(e.target.value)},required:!0}),Object(i.jsx)("label",{htmlFor:I,children:"New Location"}),Object(i.jsx)("input",{type:"text",name:I,placeholder:"location",value:I,onChange:function(e){S(e.target.value)},required:!0}),Object(i.jsxs)("label",{className:"checkbox",children:["Willing to Deliver",Object(i.jsx)("input",{type:"checkbox",id:"myCheck",name:"delivery",value:!0,onChange:function(e){a(!0)}})," ","Yes",Object(i.jsx)("input",{type:"checkbox",id:"myCheck",name:"delivery",value:!1,onChange:function(e){a(!1)}})," ","No"]}),Object(i.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"})]})})]})})}function V(e){var t,n=e.postId,a=e.defaultPosts,o=Object(r.useState)([]),l=Object(c.a)(o,2),u=l[0],h=l[1],d=Object(r.useState)(""),b=Object(c.a)(d,2),O=b[0],m=b[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("postId"));h(e)}),[]);var f=Object(B.f)(),x=[];return a.forEach((function(e){e._id===u&&x.push(e)})),console.log(x),Object(i.jsx)("form",(t={className:"login-form"},Object(s.a)(t,"className","login-form"),Object(s.a)(t,"onSubmit",function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,U(O,u);case 4:n=e.sent,console.log(n,"component"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,f.push("/posts"),alert("Message Sent!"),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[1,8,11,15]])})));return function(t){return e.apply(this,arguments)}}()),Object(s.a)(t,"children",Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"login-title",children:"Message User"}),Object(i.jsx)("div",{className:"imgcontainer",children:Object(i.jsx)("i",{className:"far fa-envelope fa-5x"})}),x.map((function(e){var t=e.title,s=e.description,c=e.price,r=e.location,a=e.author;e.willDeliver,e.isAuthor;return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:t}),Object(i.jsx)("h2",{className:"username",children:a.username})]}),Object(i.jsxs)("div",{className:"post-content",children:[Object(i.jsx)("p",{children:s}),Object(i.jsx)("p",{className:"price",children:c}),Object(i.jsx)("p",{children:r})]})]},"post-".concat(n))})),Object(i.jsx)("p",{}),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{htmlFor:"email",children:Object(i.jsx)("b",{children:"Write a message"})}),Object(i.jsx)("input",{type:"text",placeholder:"Text",name:"",id:"email",required:!0,value:O,onChange:function(e){console.log(e.target.value),m(e.target.value)}})]}),Object(i.jsx)("button",{type:"submit",className:"registerbtn",children:"Send"})]})),t))}var X=function(e){var t=e.userName,n=e.defaultPosts,s=e.searchWord,c=e.isLoggedIn,r=n.filter((function(e){for(var t=e.title.toLowerCase(),n=e.description.toLowerCase(),c=String(e.price),r=s.toLowerCase().split(" "),a=0;a<r.length;a++)if(t.includes(r[a])||n.includes(r[a])||c.includes(r[a]))return e}));return Object(i.jsx)("div",{children:r.map((function(e,n){var s=e.title,r=e.description,a=e.price,o=e.location,l=e.author,u=e._id,j=l.username;return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsxs)("div",{className:"post-header",children:[Object(i.jsx)("h1",{children:s}),Object(i.jsx)("h2",{className:"username",children:j})]}),Object(i.jsxs)("div",{className:"post-content",children:[Object(i.jsx)("p",{children:r}),Object(i.jsx)("p",{className:"price",children:a}),Object(i.jsx)("p",{children:o})]}),t!=j&!0===c?Object(i.jsx)("div",{children:Object(i.jsx)(J.b,{to:"/posts/".concat(j),children:Object(i.jsx)("button",{className:"submit-button",onClick:function(e){m(u)},children:"Send Message"})})}):null]},"post-".concat(n))}))})},Z=function(){var e,t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],o=n[1],u=Object(r.useState)(!1),j=Object(c.a)(u,2),p=(j[0],j[1]),h=Object(r.useState)([]),d=Object(c.a)(h,2),b=d[0],m=d[1],f=Object(r.useState)(""),x=Object(c.a)(f,2),v=x[0],g=x[1],N=Object(r.useState)(""),y=Object(c.a)(N,2),w=y[0],I=y[1],S=Object(r.useState)(""),k=Object(c.a)(S,2),P=k[0],C=k[1],L=Object(r.useState)(!1),D=Object(c.a)(L,2),E=D[0],T=D[1];return Object(r.useEffect)((function(){O()&&o(!0)}),[]),Object(i.jsxs)("div",{id:"App",children:[Object(i.jsx)(Y,{isLoggedIn:a,setIsLoggedIn:o}),Object(i.jsxs)(B.c,{children:[Object(i.jsx)(B.a,{path:"/posts/:username",children:Object(i.jsx)(V,{defaultPosts:b,setDefaultPosts:m,postId:v,setPostId:g})}),Object(i.jsx)(B.a,{path:"/posts",children:Object(i.jsx)(R,(e={delivery:E,setDelivery:T,searchWord:P,setSearchWord:C,setPostId:g,postId:v,userName:w,defaultPosts:b,setDefaultPosts:m,isLoggedIn:a,setIsLoggedIn:o},Object(s.a)(e,"setSearchWord",C),Object(s.a)(e,"searchWord",P),e))}),Object(i.jsx)(B.a,{exact:!0,path:"/searchpage",children:Object(i.jsx)(X,{defaultPosts:b,searchWord:P,userName:w,isLoggedIn:a})}),Object(i.jsx)(B.a,{path:"/profile",children:Object(i.jsx)(_,{userName:w,setUserName:I,defaultPosts:b,isLoggedIn:a,setIsLoading:p,setIsLoggedIn:o,setDefaultPosts:m})}),Object(i.jsx)(B.a,{path:"/login",children:Object(i.jsx)(z,{userName:w,setUserName:I,isLoggedIn:a,setIsLoading:p,setIsLoggedIn:o})}),Object(i.jsx)(B.a,{path:"/register",children:Object(i.jsx)(H,{setIsLoading:p,setIsLoggedIn:o})}),Object(i.jsx)(B.a,{path:"/newpost",children:Object(i.jsx)(G,{delivery:E,setDelivery:T,isLoggedIn:a,setIsLoading:p,setIsLoggedIn:o})}),Object(i.jsx)(B.a,{path:"/editpost",children:Object(i.jsx)(K,{delivery:E,setDelivery:T,postId:v,setPostId:g,setDefaultPosts:m,defaultPosts:b,isLoggedIn:a,setIsLoading:p,setIsLoggedIn:o})}),Object(i.jsx)(B.a,{path:"/edit/:id",children:Object(i.jsx)(Q,{delivery:E,setDelivery:T,postId:v,setPostId:g,isLoggedIn:a,setIsLoggedIn:o})}),Object(i.jsx)(B.a,{path:"/",children:Object(i.jsx)(l,{})})]})]})};o.a.render(Object(i.jsx)(J.a,{children:Object(i.jsx)(Z,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.fd4ec08b.chunk.js.map